# blockcity-gscatter-inject
布洛克城中在第三方webview中注入的脚本，

## 和pc插件交互上的区别
1.在交易的时候才去输入密码，而pc上是解锁之后就不用再输入密码。
不过mobile上也可以记住密码，在公信链钱包上切换或者删除对应的账户时，会重置记住状态；或者退出应用也会重置记住状态。

2.不需要让用户选择账户。默认跟公信链钱包同步，公信链钱包切换，这边就会跟着切换。

## 错误码

由于交互不一样，所以错误码跟pc版是有区别的，但是，含义一样的，错误码一定会一致。比如`NO_SIGNATURE`都代表拒绝签名（其实就是拒绝你发起的调用合约、转账等操作，这个码沿用了scatter的码）。

```javascript
{
    NO_SIGNATURE: 402,	// 拒绝签名，在发起交易(调用合约、投票、转账)后，取消则返回该错误码
    UN_DEF_ERROR: 433,	// 没有定义的错误都在这里，包括链上错误等，之后如果需要平台统一错误处理，可以把部分错误码从这里分出来处理
    PASSWORD_ERROR: 434,	// 密码输入错误，有可能是账户对不上
    NO_IDENTITY: 435	// 在调用vote、callContract、transfer等需要账户的方法,如果当前用户没有公信链账户，会抛出该错误。平台会做统一处理，但开发者也能接收到
}
```